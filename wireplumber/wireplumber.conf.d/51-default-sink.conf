monitor.alsa.rules = [
  # Boost DisplayLink dock audio priority so it's always preferred
  {
    matches = [
      {
        node.name = "~alsa_output.usb-DisplayLink_USB3.1_Universal_Docking_Station*"
      }
    ]
    actions = {
      update-props = {
        priority.driver = 2000
        priority.session = 2000
        # Increase headroom to handle USB bus disruptions (e.g. Switch dock)
        api.alsa.headroom = 1024
      }
    }
  }
  # Lower priority for built-in audio so dock is always preferred
  {
    matches = [
      {
        node.name = "~alsa_output.pci-*"
      }
    ]
    actions = {
      update-props = {
        priority.driver = 500
        priority.session = 500
      }
    }
  }
]
